Необходимо изменить семейство классов таким образом, чтобы оно не нарушало принцип подстановки Барбары Лисков